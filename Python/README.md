## Python Tech Interview

#### 파이썬의 특징은 무엇인가요?
- 스크립트 언어
    - 컴파일 과정 없이 인터프리터(Interpreter, 해석기)가 소스 코드를 한 줄씩 읽어 들여 곧바로 실행하는 스크립트 언어이다.
- 동적 타이핑 언어
    - 변수의 자료형을 지정하지 않고 단순히 선언하는 것만으로도 값을 지정할 수 있습니다. 값을 할당하면 코드가 실행되는 시점에 타입이 결정됩니다. 
    - 자료형 변환 시 번거로운 과정을 거치지 않아도 된다는 장점이 있지만, 코드 실행 도중 예상하지 못한 타입으로 인한 에러가 발생할 수 있는 특징이 있습니다.
- 쉬운 문법과 높은 가독성


#### 인터프리터 언어와 컴파일 언어의 차이점이 무엇인가요?
- 컴파일 언어는 `컴파일`이라는 과정을 통해 프로그래머가 작성한 코드를 기계어(0,1로 구성된 바이트언어)로 번역해 실행하는 언어입니다. 소스 코드를 컴파일하는 과정을 거쳐야 하므로 실행 및 수정에 비교적 많은 시간을 소요하지만, 한 번 기계어로 번역되면 빠른 실행 속도를 보여줍니다.
- 스크립트 언어는 별도의 `컴파일` 과정 없이 인터프리터가 소스 코드를 한 줄씩 읽어가며 바로 실행하는 언어를 의미합니다. 결과를 바로 확인하고 빠르게 수정할 수 있지만, 번역과 실행이 동시에 이뤄져 컴파일 언어보다 느린 실행 속도를 보입니다.


#### 파이썬은 어떻게 실행되나요?
- 컴파일링과 런타임에 인터프리팅을 혼합해서 사용됨
    - 컴파일 타임: 파이썬 코드를 0과 1로 구성된 바이트 코드로 변환하는 과정
    - 런타임: 바이트 코드가 메모리에 올라가 차례차례 실행되는 과정
- 파이썬 코드 > 파이썬 인터프리터 > 코드 실행
- 파이썬 인터프리터가 하는 일: 컴파일러 > 바이트코드 > python virtual machine 
    - 인터프리터 종류: cpython(파이썬 설치시 기본 제공), pypy, ironpython


#### mutable과 immutable에 대해서 설명해주세요
- mutable은 변경이 가능한 객체로 list, set, dictionary가 있고, immutable은 변경이 불가능한 객체로 숫자형, 문자열, 튜플이 있다.
- `mutable`
    - 변경이 가능한 객체
    - reference가 가리키는 메모리에 저장된 실제값을 바꿀 수 있다
    - 생성 후 자유롭게 값을 변경, 추가, 삭제 등이 가능하다.
    - list, set, dictionary 등
    - 변수의 값을 변경하면 객체 자체를 업데이트 한다. (값 변경 -> 할당된 메모리에 전달)
    - call by reference(참조에 의한 호출)
- `immutable`
    - 변경이 불가능한 객체
    - reference가 가리키는 메모리에 저장된 실제값을 바꿀 수 없다.
    - 생성 후 값 변경, 추가, 삭제 등이 불가능하다.
    - 숫자, string, tuple 등
    - 변수의 값을 변경하면 다른 객체를 생성하고 그 객체에 대한 참조로 업데이트 된다.
      (값 변경 -> 새로운 메모리에 전달)
    - call by value(값에 의한 호출)


#### 리스트와 튜플의 차이점은 무엇인가요?
- 여러 원소를 담을 수 있는 컬렉션 자료형으로 모두 순서는 존재하지만 리스트는 mutable, 튜플은 immutable합니다.
- 순서가 있는 시퀀스 자료형이기 때문에 인덱싱과 슬라이싱이 가능하다
- 튜플이 리스트보다 메모리를 적게 사용해서 성능이 좋다.


#### 파이썬에서 딕셔너리는 무엇인가요?
- 컬렉션 자료형, 뮤터블 객체로 키와 값으로 이루어져있다. 키는 중복될 수 없고, 값은 중복 될 수 있다. 특정 키를 사용해서 값을 가져올 때 시간복잡도가 O(1)이기 때문에 리스트를 탐색(O(N))할 때 보다 빠르다.
- python 3.6부터 순서를 기억한다.


#### 파이썬에서 Set은 무엇인가요?
- 순서가 없는 자료형, 뮤터블 객체, 중복된 값을 가질 수 없다.
- 중복된 요소를 제거할 때 사용한다.


#### call by value와 call by reference의 차이점은 무엇인가요?
- 두 방식은 함수의 인자 전달 방식이다. 각각 어떤 타입을 전달하느냐에 차이
- call by value는 변수의 복사한 값을 전달하고, call by reference는 변수의 주소값을 전달한다. 파이썬은 call by assignment 방식으로 immutable 타입은 call by value 방식으로 변수를 핸들링하고, mutable 타입은 call by reference 방식으로 변수를 핸들링한다.
- `call by value`
    - 변수를 복사한 값을 전달하는 방식
    - 함수의 인자를 받을 때, 변수에 담긴 값을 Stack에 복사해서 넘겨준다.
    - 따라서 함수 내에서 해당 인자를 바꾸었다고 해도 원본 변수 값은 변하지 않는다.
- `call by reference`
    - 변수의 주소값을 전달하는 방식
    - 함수의 인자를 받을 때, 변수가 가리키는 주소값을 전달한다.
    - 따라서 함수 내에서 해당인자를 조작하면 원본 변수의 주소 값을 타고 들어가 해당 값 자체가 변하게 된다.
- 파이썬은 `call by assignment`(call by object-reference)이다.
    - immutable인 경우에는 call by value 방식으로 변수를 핸들링
    - mutable인 경우에는 call by reference 방식으로 변수르 핸들링


#### decorator는 무엇이고 언제 사용되나요?
- 기존의 코드에 여러가지 기능을 추가하는 파이썬 구문으로 코드의 중복을 최소화 하고 재사용성을 높일
- 왜 쓰나? 
    - 어떤 함수를 인자로 받아 꾸며준 후 다시 함수로 리턴하는 함수
    - 이미 만들어져 있는 기존의 코드를 수정하지 않고도, 로직을 추가
    - 성능 테스트, 로그를 남기거나 유저의 로그인 상태등을 확인
- 일급 함수(퍼스트 클래스 함수)
    - 함수 자체를 인자 (argument) 로써 다른 함수에 전달하거나 다른 함수의 결과값으로 리턴 할수도 있고, 함수를 변수에 할당하거나 데이터 구조안에 저장할 수 있는 함수.
    - 이미 정의된 여러 함수를 간단히 재활용 가능
- 클로저
    - 다른 함수의 지역변수를 그 함수가 종료된 이후에도 기억을 할 수가 있다.
    - 퍼스트클래스 함수를 지원하는 언어의 네임 바인딩 기술이다. 클로저는 어떤 함수를 함수 자신이 가지고 있는 환경과 함께 저장한 레코드이다.
    - 또한 함수가 가진 프리변수(free variable)를 클로저가 만들어지는 당시의 값과 레퍼런스에 맵핑하여 주는 역할을 한다
    - 어떤 함수의 내부 함수가 외부 함수의 변수(*프리변수)를 참조할 때, 외부 함수가 종료된 후에도 내부 함수가 외부 함수의 변수를 참조할 수 있도록 어딘가에 저장하는 함수
        - 프리변수(free variable)는 어떤 함수에서 사용되지만 그 함수 내부에서 선언되지 않은 변수를 의미
    - 클로저는 일반 함수와는 다르게, 자신의 영역 밖에서 호출된 함수의 변수값과 레퍼런스를 복사하고 저장한 뒤, 이 캡처한 값들에 액세스할 수 있게 도와준다.
    - 클로저의 조건
        - 어떤 함수의 내부 함수일 것
        - 그 내부 함수가 외부 함수의 변수를 참조할 것
        - 외부 함수가 내부 함수를 리턴할 것
    - 클로저 쓰는 이유: 무분별한 전역변수의 남용 방지, 변수의 책임 범위를 명확
- 데코레이터 [참고](https://schoolofweb.net/posts/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0-decorator)
    ```python
    def decorational_function(original_func):
        import time

        def wrapper(*args, **kwargs):
            start = time.time()
            result = original_func(*args, **kwargs)
            end = time.time() - start
            print(f'{original_func.__name__} 함수가 실행된 총 시간: {end}')
            return result

        return wrapper


    @decorational_function
    def display(name):
        print(f'My name is {name}')


    display('jiyun')

    ```


#### 파이썬에서 메모리를 어떻게 관리되나요? GC 동작방식에 대해 설명해주세요
- [참고](https://velog.io/@toezilla/Python%EC%9D%80-%EB%A9%94%EB%AA%A8%EB%A6%AC%EB%A5%BC-%EC%96%B4%EB%96%BB%EA%B2%8C-%EA%B4%80%EB%A6%AC%ED%95%A0%EA%B9%8C)
- 파이썬은 개발자가 직접 메모리 할당 및 해제할 필요 없이 자동으로 메모리 관리를 해주는데, 레퍼런스 카운팅과 Garbage collection 으로 관리가 된다.
- `referencecounting`이 라는 참조계수는 객체가 생성될 때마다 그 객체를 참조하는 변수의 개수를 추적하는 방식이다. 객체가 참조될 때마다 증가하고 객체의 참조가 해제될 때 감소하는 방식으로 작동하고, 0이 되면 객체의 메모리 할당이 해제되어 메모리 낭비 줄임
- 메모리 풀을 사용하여, 작은 크기의 객체를 메모리 할당 및 해제를 최적화합니다. 또한, 파이썬은 대개 heap 영역에서 메모리를 할당하며, 이를 위해 내부적으로 malloc과 free와 같은 C 라이브러리 함수를 사용합니다.

- 일반적인 메모리 관리
    - 정적 메모리 할당
        - 코드들이 컴파일 타임에 할당됨
        - 정적 메모리를 구현하기 위해 stack 자료구조 사용
        - 스택에는 함수, 메서드와 변수(참조변수, 매개변수)의 이름이 저장됨
    - 동적 메모리 할당
        - 코드가 실행되고 나서 메모리에 할당됨
        - 동적 메모리를 구현하기 위해 heap 자료구조 사용
        - 힙에는 모든 객체(클래스, 인스턴스)가 들어감 

- 가비지 컬렉션(Garbage collection)
    - 두 개 이상의 객체가 서로 참조하는 상황인 순환참조의 경우 메모리 누수를 막기 위해 사용됨
    - 순환참조가 발생하면, 객체를 더이상 사용되지 않더라도 레퍼런스 카운팅이 0이 되지 않아 메모리 누수를 발생시킬 수있다.
    - 자동으로 수행되지만 gc 모듈을 임포트하여 명시적으로 가비지 컬렉션을 수행하거나, 순환참조를 방지하는 코드를 작성하는 것이 좋다.
- 레퍼런스 카운팅(reference counting)
    - 객체를 만들 때마다 객체의 유형과 reference count를 private heap에 생성
    - reference count는 객체가 참조될 때마다 증가하고 객체의 참조가 해제될 때 감소하는 방식으로 작동하고, 이때 reference count가 0이 되면 객체의 메모리 할당이 해제

- 힙 매니저는 어떤 일을 하나요?


#### 메모리 누수가 발생할 수 있는 경우 어떤 경우가 있을까요?
- 객체가 순환참조 되었을 때


#### Lambda와 Def의 주된 차이점은 무엇인가요?
- 두 가지 모두 파이썬에서 함수를 선언하는 방법이다. 
- `def`는 이름을 갖는 함수고, `lambda`는 이름을 갖지 않는 익명함수. 
- `def`는 명령문(statement, 소스코드에서 작동하는 줄) 이고, `lambda`는 표현식(expression, identifiers, literals, operator만으로 표현되고 나중에 어떤 값으로 표현)입니다. 
- `lambda`는 메모리 saving이 될 수 있고 특정 함수에서 용이하게 작동할 수 있지만, 긴 표현과 정밀한 기능 구현을 위해서는 `def` 를 이용하는 것이 좋습니다.


#### Docstring은 무엇인가요?
- 함수나 클래스, 모듈에 첨부할 수 있는, 큰 따옴표 세 개 (""") 혹은 작은 따옴표 세 개 (''')로 둘러싸여진 문자열
- 함수, 클래스, 모듈의 목적과 이를 이용할 때 필요한 세부 정보들을 담는다.


#### GIL이란 무엇인가요(⁂⁂⁂)?
- Global Interpreter Lock의 약자로, 파이썬의 객체들에 대한 접근을 보호하는 일종의 mutex로써, 여러 개의 스레드가 파이썬 코드를 동시에 실행하지 못하도록 하는 기능
- 파이썬 인터프리터가 한 쓰레드만 하나의 바이트코드를 실행시킬 수 있도록 해주는 Lock
- 단점으로 파이썬의 GIL 기능이 멀티쓰레딩을 막아 간단한 연산을 효율적으로 하지 못한다.
    - 왜 GIL이 필요한가요?
        - GIL은 파이썬 객체로 접근함을 보호하기 위한 뮤텍스임
        - CPython의 메모리 관리 정책은 Thread-Safe하지 않기 때문에 뮤텍스가 필요함
    - thread-safe하다는게 어떤 뜻인가요? 
        - 레이스 컨디션이 발생되지 않는 완전 격리되어 작업을 수행함
        - 여러 쓰레드가 공유된 자원에 한 번에 접근하여 R/W 작업을 수행할 수 있는 상태를 Thread Safe하지 않다고 표현한다.
    - 어떤 상황에서 성능 문제가 생기나요?
        - CPU 연산의 비중이 작은 작업을 할 때에는 멀티쓰레딩이 좋은 효율을 보여줘 간단한 작업에 있어서는 멀티쓰레딩을 막는 GIL의 존재가 파이썬의 속도를 저하
    - 다중 스레드가 동시에 실행될 때의 문제점이 무엇인가요?
    - race condition으로 인해 발생한 메모리 유실을 파이썬에서는 어떻게 해결할 수 있나요?
    - C에서는 이런 상황(이전 문제에서의 상황)을 막기위해 어떤 것을 사용하나요?
    - 멀티 스레드와 멀티 프로세서의 차이점이 무엇인가요?
    - 어떤 상황에서 멀티 스레드를 사용해야할까요?
        - CPU 연산 비중이 많을 때
    - 그래서 GIL의 문제를 어떻게 해결할 수있을까요? 
        - cpu가 바쁘게 계산하는 일들은 numpy, scipy같이 GIL 밖에서 C코드로 연산할 수 있고, 병렬처리에 관해서는 멀티 프로세싱 사용할 수 있다. 굳이 thread 간의 동시처리가 필요하다면 Jython, IronPython, PyPy같은 것들 고려해볼 수 있다.


#### iterators와 iterable의 차이는 무엇인가요?
- `iterable`: 순회할 수 있는 모든 객체(list, set, dict, tuple 등). for 문에 넣을 수 있는 모든 객체는 Iterable이라고 말할 수 있다. 
- `iterator`: next() 함수를 통해 값을 한 번에 한 번씩 반환
- 사용하는 함수가 있나요? 무엇인가요?
- 이터러블한 객체와 시퀀스 객체의 종류와 차이점을 설명해주세요.


#### 파이썬의 generator은 무엇인가요?
- 아이템을 한 번에 리턴하지 않고 yield를 통해 하나씩 리턴해줌
- 모든 데이터를 올리지 않기 때문에 메모리 사용이 적고, 큰 리스트를 다룰 룰 유용.


#### 언패킹이란 무엇이고 언제 사용하나요?
- 여러 변수를 한번에 할당하는 방식이다. 리스트나 튜플을 여러 변수에 할당할 때 주로 쓴다.


#### 언더스코어는 무엇이고 언제 사용하나요?
- 무시하고 싶은 값, 특별한 네이밍(메소드, 변수), 인터프리터에서의 마지막값, 숫자 리터럴의 자릿수를 구분할 때 사용합니다.
- 네이밍의 경우
    - `_variable`: 모듈 내에서만 해당 변수/함수를 사용
        - 완전한 의미의 private는 아니기 때문에 여전히 해당 변수/함수는 접근하거나 사용
        - 외부 모듈에서 해당 모듈을 from module_name import * 식으로 전체 임포트 할 때 앞에 언더바가 붙은 변수/함수는 임포트를 하지 않습니다. 단, 직접 가져오면 사용 가능
    - `variable_`: 파이썬 키워드와 변수/함수명의 충돌을 피하기 위해 사용
    - `__variable`: 네임 맹글링으로 파이썬이 해당 변수/함수의 이름을 짓이겨서 바꿔버리는 것. 맹글링을 당한 변수/함수는(_클래스명__변수/함수명 형태로 이름이 변경) 본연의 이름으로 접근할 수 없게 됩니다.
        - 클래스의 속성값을 외부에서 접근하기 힘들게 할 때(private화)
        - 하위 클래스가 상위 클래스의 속성을 오버라이딩 하는 것을 막을때
    - `__variable__`: 파이썬이 특별히 정의한 변수나 함수에 사용되는 네이밍 룰, 대부분 오버라이딩 할 때 사용
